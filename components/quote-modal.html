<!-- ========== QUOTE MODAL ========== -->
<div class="quote-modal" id="quoteModal" aria-hidden="true" role="dialog" aria-labelledby="quoteModalTitle">
    <div class="quote-modal__backdrop"></div>
    <div class="quote-modal__container">
        <button class="quote-modal__close" id="quoteModalClose" aria-label="Close form">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round">
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
        </button>

        <div class="quote-modal__header">
            <span class="quote-modal__badge">Free Quote</span>
            <h2 class="quote-modal__title" id="quoteModalTitle">Request Your Free Quote</h2>
            <p class="quote-modal__subtitle">Tell us about your project — we'll get back to you within 30 minutes.</p>
        </div>

        <form class="quote-modal__form" id="quoteModalForm" novalidate>
            <div class="form-row">
                <div class="form-group">
                    <label for="modal-name" class="form-label">Full Name</label>
                    <input type="text" id="modal-name" name="name" class="form-input" placeholder="John Smith" required>
                    <span class="form-error">Please enter your name</span>
                </div>
                <div class="form-group">
                    <label for="modal-phone" class="form-label">Phone Number</label>
                    <input type="tel" id="modal-phone" name="phone" class="form-input" placeholder="+1 (775) 000-0000"
                        required>
                    <span class="form-error">Please enter a valid phone number</span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="modal-email" class="form-label">Email <span
                            style="color:var(--text-muted);font-weight:400">(optional)</span></label>
                    <input type="email" id="modal-email" name="email" class="form-input" placeholder="john@example.com">
                    <span class="form-error">Please enter a valid email</span>
                </div>
                <div class="form-group">
                    <label for="modal-zip" class="form-label">ZIP Code <span
                            style="color:var(--text-muted);font-weight:400">(optional)</span></label>
                    <input type="text" id="modal-zip" name="zip" class="form-input" placeholder="10001" maxlength="5"
                        inputmode="numeric" pattern="[0-9]{5}">
                    <span class="form-error">Please enter a valid 5-digit ZIP</span>
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="modal-service" class="form-label">Service Needed</label>
                    <select id="modal-service" name="service" class="form-input form-select" required>
                        <option value="" disabled selected>Select a service</option>
                        <option value="Furniture Assembly">Furniture Assembly</option>
                        <option value="TV & Wall Mounting">TV & Wall Mounting</option>
                        <option value="Appliance Services">Appliance Services</option>
                        <option value="Flooring Installation">Flooring Installation</option>
                        <option value="Painting & Wall Finishes">Painting & Wall Finishes</option>
                        <option value="AC Installation & Cleaning">AC Installation & Cleaning</option>
                        <option value="Plumbing">Plumbing</option>
                        <option value="Electrical">Electrical</option>
                        <option value="General Repairs">General Repairs</option>
                        <option value="Other">Other</option>
                    </select>
                    <span class="form-error">Please select a service</span>
                </div>
                <div class="form-group">
                    <label for="modal-date" class="form-label">Preferred Date <span
                            style="color:var(--text-muted);font-weight:400">(optional)</span></label>
                    <input type="date" id="modal-date" name="date" class="form-input">
                </div>
            </div>
            <!-- Time Slot Picker (appears after date selection) -->
            <div class="form-group" id="timeSlotGroup" style="display:none">
                <label class="form-label">Available Times</label>
                <div class="time-slots" id="timeSlots"></div>
                <input type="hidden" id="modal-time" name="time">
                <span class="form-error">Please select a time slot</span>
            </div>
            <!-- Address (required when booking a date) -->
            <div class="form-group" id="addressGroup" style="display:none">
                <label for="modal-address" class="form-label">Service Address <span
                        style="color:var(--accent);font-weight:500">*</span></label>
                <input type="text" id="modal-address" name="address" class="form-input"
                    placeholder="123 Main St, Apt 4B, New York, NY">
                <span class="form-error">Address is required when booking a date</span>
            </div>
            <div class="form-group">
                <label for="modal-message" class="form-label">Describe Your Project</label>
                <textarea id="modal-message" name="message" class="form-input form-textarea" rows="3"
                    placeholder="Tell us what you need help with..."></textarea>
            </div>

            <!-- Photo Upload -->
            <div class="form-group">
                <label class="form-label">Attach Photos <span style="color:var(--text-muted);font-weight:400">(optional,
                        up to 5)</span></label>
                <div class="photo-drop" id="photoDrop">
                    <input type="file" id="photoInput" accept="image/*" multiple style="display:none">
                    <div class="photo-drop__prompt" id="photoPrompt">
                        <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                            <circle cx="8.5" cy="8.5" r="1.5" />
                            <polyline points="21 15 16 10 5 21" />
                        </svg>
                        <span>Drop photos here or <strong>browse</strong></span>
                        <span class="photo-drop__hint">JPG, PNG — max 5 MB each</span>
                    </div>
                    <div class="photo-drop__preview" id="photoPreview"></div>
                </div>
            </div>

            <div class="form-group form-consent">
                <label class="consent-label">
                    <input type="checkbox" id="modal-consent" name="consent" required>
                    <span class="consent-check"></span>
                    <span class="consent-text">I agree to the <a href="/privacy-policy/" target="_blank">Privacy
                            Policy</a> and <a href="/terms-of-service/" target="_blank">Terms of Service</a>, and
                        consent to receive text messages. Message &amp; data rates may apply.</span>
                </label>
                <span class="form-error">You must agree to continue</span>
            </div>

            <button type="submit" class="btn btn--accent btn--lg btn--full" id="quoteModalSubmit">
                <span class="btn__text">Send Request</span>
                <span class="btn__loader"></span>
            </button>
        </form>

        <div class="quote-modal__success" id="quoteModalSuccess" style="display:none">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="var(--accent)" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round" style="margin-bottom:20px">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
                <polyline points="22 4 12 14.01 9 11.01" />
            </svg>
            <h3>Quote Request Received</h3>
            <p>Thank you! We'll get back to you within 30 minutes during business hours.</p>
            <button type="button" class="btn btn--outline"
                onclick="document.getElementById('quoteModal').classList.remove('active');document.body.style.overflow='';"
                style="margin-top:20px">Close</button>
        </div>

        <div class="quote-modal__contact">
            <span>Or call us directly:</span>
            <a href="tel:+17753107770" class="quote-modal__phone">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path
                        d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
                </svg>
                +1 (775) 310-7770
            </a>
        </div>
    </div>
</div>